{
  "version": {
    "_version": 9.03,
    "autoSaveFromRestore": false,
    "canvasTemplates": [
      {
        "id": "sg9zy34i0",
        "name": "Basic Conversation Path",
        "color": "#5b9fd7",
        "nodeIDs": [
          "643872d482cf9d2273b905df",
          "643872d482cf9d2273b905e1",
          "643872d482cf9d2273b905e3"
        ]
      },
      {
        "id": "5bgq3341p",
        "name": "Save Information",
        "color": "#000000",
        "nodeIDs": [
          "6438784f82cf9d2273b90dd4",
          "6438784f82cf9d2273b90dd6",
          "6438784f82cf9d2273b90dd8",
          "6438784f82cf9d2273b90dda"
        ]
      },
      {
        "id": "byav33785",
        "name": "API Call Example",
        "color": null,
        "nodeIDs": [
          "645d718f83103cca7a3cecc1",
          "645d718f83103cca7a3cecc3",
          "645d718f83103cca7a3cecc5",
          "645d718f83103cca7a3cecc7"
        ]
      }
    ],
    "components": [],
    "creatorID": 70616,
    "manualSave": false,
    "name": "Initial Version",
    "platformData": {
      "slots": [],
      "intents": [
        {
          "key": "6579c6bf984565862f64b783",
          "name": "Yes",
          "slots": [],
          "inputs": [
            {
              "text": "sure",
              "slots": []
            },
            {
              "text": "certainly",
              "slots": []
            },
            {
              "text": "affirmative",
              "slots": []
            },
            {
              "text": "okay",
              "slots": []
            },
            {
              "text": "ok",
              "slots": []
            },
            {
              "text": "ya",
              "slots": []
            },
            {
              "text": "yep",
              "slots": []
            },
            {
              "text": "yup",
              "slots": []
            },
            {
              "text": "yea",
              "slots": []
            },
            {
              "text": "yes",
              "slots": []
            }
          ],
          "noteID": "536am08s8",
          "description": "Trigger this intent when the user responds affirmatively or agrees to a question or statement using words like \"yes\", \"yea\", \"yup\", \"yep\", \"ya\", \"ok\", \"okay\", \"affirmative\", \"certainly\", or \"sure\"."
        },
        {
          "key": "6579c778dd3cca0fe0e0b152",
          "name": "No",
          "slots": [],
          "inputs": [
            {
              "text": "negative",
              "slots": []
            },
            {
              "text": "nevermind",
              "slots": []
            },
            {
              "text": "not",
              "slots": []
            },
            {
              "text": "no thanks",
              "slots": []
            },
            {
              "text": "no way",
              "slots": []
            },
            {
              "text": "not now",
              "slots": []
            },
            {
              "text": "nah",
              "slots": []
            },
            {
              "text": "nay",
              "slots": []
            },
            {
              "text": "nope",
              "slots": []
            },
            {
              "text": "no",
              "slots": []
            }
          ],
          "noteID": "546an085p",
          "description": "Trigger this intent when the user responds negatively or declines something, using words like \"no\", \"nope\", \"nay\", \"nah\", \"not now\", \"no way\", \"no thanks\", \"not\", \"nevermind\", or \"negative\"."
        },
        {
          "key": "None",
          "name": "None",
          "slots": [],
          "inputs": [],
          "noteID": null
        }
      ],
      "settings": {
        "restart": true,
        "repeat": 100,
        "locales": [
          "en-US"
        ],
        "defaultVoice": "Alexa"
      },
      "publishing": {
        "avatar": "https://cdn.voiceflow.com/assets/logomark.png",
        "color": "#2E7FF1",
        "description": "The best trivia",
        "feedback": false,
        "image": "https://cdn.voiceflow.com/assets/logomark.png",
        "persistence": "localStorage",
        "position": "right",
        "spacing": {
          "side": 24,
          "bottom": 24
        },
        "title": "Trivia Bot",
        "watermark": true
      },
      "platform": "webchat"
    },
    "prototype": {
      "type": "chat",
      "data": {
        "name": "04_08",
        "locales": [
          "en-US"
        ]
      },
      "model": {
        "intents": [],
        "slots": []
      },
      "context": {
        "stack": [
          {
            "programID": "64386e21bb106b044ea34b78",
            "storage": {},
            "variables": {},
            "diagramID": "64386e21bb106b044ea34b78"
          }
        ],
        "variables": {}
      },
      "surveyorContext": {
        "functionDefinitions": {
          "65a81f3a2f5982dcf3cc7048": {
            "codeId": "669e97619c4c97f9286f3ea2-65a81f3a2f5982dcf3cc7048.js",
            "inputVars": {
              "question": {
                "type": "text"
              },
              "VFapiKey": {
                "type": "text"
              }
            },
            "outputVars": {
              "cleaned_chunks": {
                "type": "text"
              }
            },
            "pathCodes": [
              "success",
              "error"
            ]
          }
        },
        "slotsMap": {},
        "platform": "webchat",
        "products": {},
        "extraSlots": [],
        "interfaces": [],
        "permissions": [],
        "extraIntents": [],
        "usedEventsSet": [],
        "usedIntentsSet": [],
        "goToIntentsSet": [],
        "cmsVariables": {
          "sessions": {
            "isSystem": true,
            "defaultValue": null
          },
          "user_id": {
            "isSystem": true,
            "defaultValue": null
          },
          "timestamp": {
            "isSystem": true,
            "defaultValue": null
          },
          "platform": {
            "isSystem": true,
            "defaultValue": null
          },
          "intent_confidence": {
            "isSystem": true,
            "defaultValue": null
          },
          "last_response": {
            "isSystem": true,
            "defaultValue": null
          },
          "last_event": {
            "isSystem": true,
            "defaultValue": null
          },
          "last_utterance": {
            "isSystem": true,
            "defaultValue": null
          },
          "vf_memory": {
            "isSystem": true,
            "defaultValue": null
          },
          "trivia_topic": {
            "isSystem": false,
            "defaultValue": null,
            "datatype": "any",
            "isArray": false
          },
          "judge_answer": {
            "isSystem": false,
            "defaultValue": null,
            "datatype": "any",
            "isArray": false
          },
          "question": {
            "isSystem": false,
            "defaultValue": null,
            "datatype": "any",
            "isArray": false
          },
          "response": {
            "isSystem": false,
            "defaultValue": null,
            "datatype": "any",
            "isArray": false
          },
          "user_score": {
            "isSystem": false,
            "defaultValue": null,
            "datatype": "any",
            "isArray": false
          },
          "cleaned_chunks": {
            "isSystem": false,
            "defaultValue": null,
            "datatype": "any",
            "isArray": false
          },
          "VFAPIKEY": {
            "isSystem": false,
            "defaultValue": "VF.DM.669e9c111091ccc3ed5c1c53.CJYcCKCx8nhHUqI4",
            "datatype": "any",
            "isArray": false
          }
        }
      },
      "settings": {},
      "platform": "webchat"
    },
    "topics": [
      {
        "type": "DIAGRAM",
        "sourceID": "64386e21bb106b044ea34b78"
      }
    ],
    "variables": [
      "sessions",
      "user_id",
      "timestamp",
      "platform",
      "intent_confidence",
      "last_response",
      "last_event",
      "last_utterance",
      "vf_memory",
      "trivia_topic",
      "judge_answer",
      "question",
      "response",
      "user_score",
      "cleaned_chunks",
      "VFAPIKEY"
    ],
    "_id": "669e97619c4c97f9286f3ea2",
    "updatedAt": "2024-07-22T20:25:09.304Z",
    "domains": [
      {
        "id": "cla06iyr900b206pkh8d4ap8n",
        "name": "Home",
        "live": true,
        "topicIDs": [
          "64386e21bb106b044ea34b78"
        ],
        "rootDiagramID": "64386e21bb106b044ea34b78",
        "updatedBy": 70616,
        "updatedAt": "2024-07-22T17:31:13.136Z"
      }
    ],
    "projectID": "669e97619c4c97f9286f3ea1",
    "rootDiagramID": "64386e21bb106b044ea34b78",
    "templateDiagramID": "643872531e80120007759e05"
  },
  "diagrams": {
    "643872531e80120007759e05": {
      "name": "Template Diagram",
      "type": "TEMPLATE",
      "zoom": 100,
      "nodes": {
        "643872d482cf9d2273b905df": {
          "type": "block",
          "data": {
            "name": "Option 2",
            "color": "",
            "steps": [
              "643872d482cf9d2273b905e5"
            ]
          },
          "nodeID": "643872d482cf9d2273b905df",
          "coords": [
            -432.02299332274276,
            -334.73425308247994
          ]
        },
        "643872d482cf9d2273b905e5": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "lu9tb340d",
                "content": [
                  {
                    "children": [
                      {
                        "text": "Second Option"
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "643872d482cf9d2273b905e6"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "643872d482cf9d2273b905e5"
        },
        "643872d482cf9d2273b905e1": {
          "type": "block",
          "data": {
            "name": "Start Block",
            "color": "#5b9fd7",
            "steps": [
              "643872d482cf9d2273b905e8",
              "643872d482cf9d2273b905eb"
            ]
          },
          "nodeID": "643872d482cf9d2273b905e1",
          "coords": [
            -845.4801744371416,
            -539.5792694267975
          ]
        },
        "643872d482cf9d2273b905e8": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "929q734a2",
                "content": [
                  {
                    "children": [
                      {
                        "text": "How can I help you?"
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "643872d482cf9d2273b905eb",
                  "id": "643872d482cf9d2273b905e9"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "643872d482cf9d2273b905e8"
        },
        "643872d482cf9d2273b905eb": {
          "type": "buttons",
          "data": {
            "name": "Buttons",
            "noMatch": null,
            "buttons": [
              {
                "id": "xr9vd34tj",
                "name": "Path 1",
                "actions": []
              },
              {
                "id": "cl9vs34c7",
                "name": "Path 2",
                "actions": []
              }
            ],
            "noReply": null,
            "intentScope": "GLOBAL",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "else": {
                  "type": "else",
                  "target": null,
                  "id": "643872d482cf9d2273b905ec"
                }
              },
              "dynamic": [
                {
                  "type": "",
                  "target": "643872d482cf9d2273b905e3",
                  "id": "643872d482cf9d2273b905ed",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -679.4801667002234,
                          -399.32923837159325
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -637.4918741411055,
                          -399.32923837159325
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -637.4918741411055,
                          -542.9755028741506
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -595.5035815819875,
                          -542.9755028741506
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                {
                  "type": "",
                  "target": "643872d482cf9d2273b905df",
                  "id": "643872d482cf9d2273b905ee",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -679.4801667002234,
                          -344.82921901334083
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -638.2515780028617,
                          -344.82921901334083
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -638.2515780028617,
                          -307.73401942975823
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -597.0229893055001,
                          -307.73401942975823
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              ]
            }
          },
          "nodeID": "643872d482cf9d2273b905eb"
        },
        "643872d482cf9d2273b905e3": {
          "type": "block",
          "data": {
            "name": "Option 1",
            "color": "",
            "steps": [
              "643872d482cf9d2273b905f0"
            ]
          },
          "nodeID": "643872d482cf9d2273b905e3",
          "coords": [
            -430.5038187460724,
            -569.9756266907931
          ]
        },
        "643872d482cf9d2273b905f0": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "ky9ry343w",
                "content": [
                  {
                    "children": [
                      {
                        "text": "First Option"
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "643872d482cf9d2273b905f1"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "643872d482cf9d2273b905f0"
        },
        "6438784f82cf9d2273b90dd4": {
          "type": "block",
          "data": {
            "name": "Use Logic to Route",
            "color": "#dc8879",
            "steps": [
              "6438784f82cf9d2273b90ddc"
            ]
          },
          "nodeID": "6438784f82cf9d2273b90dd4",
          "coords": [
            -1964.4846386537488,
            -626.9744457114995
          ]
        },
        "6438784f82cf9d2273b90ddc": {
          "type": "ifV2",
          "data": {
            "name": "If",
            "expressions": [
              {
                "type": null,
                "name": "If name is elon musk",
                "value": [
                  {
                    "logicInterface": "variable",
                    "type": "equals",
                    "value": [
                      {
                        "type": "variable",
                        "value": "name"
                      },
                      {
                        "type": "value",
                        "value": "elon musk"
                      }
                    ]
                  }
                ]
              }
            ],
            "noMatch": {
              "type": "path",
              "pathName": "All other names"
            },
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "else": {
                  "type": "else",
                  "target": "6438784f82cf9d2273b90dd8",
                  "id": "6438784f82cf9d2273b90ddd",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -1798.484505972181,
                          -492.72447921623757
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -1763.5243607307511,
                          -492.72447921623757
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -1763.5243607307511,
                          -440.2937029472216
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -1728.5642154893217,
                          -440.2937029472216
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "dynamic": [
                {
                  "type": "",
                  "target": "6438784f82cf9d2273b90dda",
                  "id": "6438784f82cf9d2273b90dde",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -1798.484505972181,
                          -547.2244999131336
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -1764.1493300508728,
                          -547.2244999131336
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -1764.1493300508728,
                          -599.0438504799286
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -1729.814154129565,
                          -599.0438504799286
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": true
                      }
                    ],
                    "event": {
                      "type": "If name is elon musk"
                    }
                  }
                }
              ]
            }
          },
          "nodeID": "6438784f82cf9d2273b90ddc"
        },
        "6438784f82cf9d2273b90dd6": {
          "type": "block",
          "data": {
            "name": "Capture Information",
            "color": "#dc8879",
            "steps": [
              "6438784f82cf9d2273b90de0",
              "6438784f82cf9d2273b90de3"
            ]
          },
          "nodeID": "6438784f82cf9d2273b90dd6",
          "coords": [
            -2376.095116200327,
            -628.3840706346044
          ]
        },
        "6438784f82cf9d2273b90de0": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "s8a30349g",
                "content": [
                  {
                    "children": [
                      {
                        "text": "What is your name?"
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "6438784f82cf9d2273b90de3",
                  "id": "6438784f82cf9d2273b90de1"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6438784f82cf9d2273b90de0"
        },
        "6438784f82cf9d2273b90de3": {
          "type": "captureV2",
          "data": {
            "name": "Capture",
            "intentScope": "GLOBAL",
            "capture": {
              "type": "query",
              "variable": "name"
            },
            "noReply": null,
            "noMatch": null,
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "6438784f82cf9d2273b90dd4",
                  "id": "6438784f82cf9d2273b90de4",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -2210.0950799471193,
                          -488.1341077200336
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -2169.789872823509,
                          -488.1341077200336
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -2169.789872823509,
                          -599.9743336839742
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": false
                      },
                      {
                        "point": [
                          -2129.484665699899,
                          -599.9743336839742
                        ],
                        "toTop": false,
                        "locked": false,
                        "reversed": false,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "else": {
                  "type": "else",
                  "target": null,
                  "id": "6438784f82cf9d2273b90de5"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6438784f82cf9d2273b90de3"
        },
        "6438784f82cf9d2273b90dd8": {
          "type": "block",
          "data": {
            "name": "Other names",
            "color": "#dc8879",
            "steps": [
              "6438784f82cf9d2273b90de7"
            ]
          },
          "nodeID": "6438784f82cf9d2273b90dd8",
          "coords": [
            -1563.5642881833433,
            -467.2936955577087
          ]
        },
        "6438784f82cf9d2273b90de7": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "1jabe34gf",
                "content": [
                  {
                    "children": [
                      {
                        "text": "Hello "
                      },
                      {
                        "id": "name",
                        "name": "name",
                        "isSlot": false,
                        "type": "variable",
                        "children": [
                          {
                            "text": ""
                          }
                        ]
                      },
                      {
                        "text": " !"
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6438784f82cf9d2273b90de8"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6438784f82cf9d2273b90de7"
        },
        "6438784f82cf9d2273b90dda": {
          "type": "block",
          "data": {
            "name": "Elon Musk",
            "color": "#dc8879",
            "steps": [
              "6438784f82cf9d2273b90dea"
            ]
          },
          "nodeID": "6438784f82cf9d2273b90dda",
          "coords": [
            -1564.8142881833433,
            -626.0436955577089
          ]
        },
        "6438784f82cf9d2273b90dea": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "1jabe34gf",
                "content": [
                  {
                    "children": [
                      {
                        "text": "Twitter is the best 🐦"
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "6438784f82cf9d2273b90deb"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "6438784f82cf9d2273b90dea"
        },
        "645d718f83103cca7a3cecc1": {
          "type": "block",
          "data": {
            "name": "Fail",
            "color": "#5b9fd7",
            "steps": [
              "645d718f83103cca7a3cecc9"
            ]
          },
          "nodeID": "645d718f83103cca7a3cecc1",
          "coords": [
            -943.7641060825457,
            -726.7018427371622
          ]
        },
        "645d718f83103cca7a3cecc9": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "u08yz372g",
                "content": [
                  {
                    "children": [
                      {
                        "text": "Error"
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "645d718f83103cca7a3cecca"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "645d718f83103cca7a3cecc9"
        },
        "645d718f83103cca7a3cecc3": {
          "type": "block",
          "data": {
            "name": "API Call",
            "color": "#5b9fd7",
            "steps": [
              "645d718f83103cca7a3ceccc"
            ]
          },
          "nodeID": "645d718f83103cca7a3cecc3",
          "coords": [
            -1337.282813902139,
            -902.1537022731807
          ]
        },
        "645d718f83103cca7a3ceccc": {
          "type": "api",
          "data": {
            "name": "",
            "url": "https://api.openai.com/v1/completions",
            "body": [
              {
                "key": "",
                "val": ""
              }
            ],
            "params": [],
            "method": "POST",
            "headers": [
              {
                "key": "Content-Type",
                "val": "application/json"
              },
              {
                "key": "Authorization",
                "val": "Bearer <ADD API KEY HERE>"
              }
            ],
            "content": "{\n  \"model\": \"text-davinci-003\",\n  \"prompt\": \"{last_utterance}\",\n  \"max_tokens\": 7,\n  \"temperature\": 0,\n  \"top_p\": 1,\n  \"n\": 1,\n  \"stream\": false,\n  \"logprobs\": null,\n  \"stop\": \"\\n\"\n}",
            "mappings": [
              {
                "path": "response",
                "var": "response"
              }
            ],
            "bodyType": "rawInput",
            "selectedAction": "Make a POST Request",
            "selectedIntegration": "Custom API",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "645d718f83103cca7a3cecd7",
                  "id": "645d718f83103cca7a3cecce",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -1171.2838307947716,
                          -748.4052156062919
                        ]
                      },
                      {
                        "point": [
                          -1141.0638307947715,
                          -748.4052156062919
                        ]
                      },
                      {
                        "point": [
                          -1141.0638307947715,
                          -821.3652156062917
                        ]
                      },
                      {
                        "point": [
                          -1110.8438307947717,
                          -821.3652156062917
                        ],
                        "allowedToTop": false
                      }
                    ]
                  }
                },
                "fail": {
                  "type": "fail",
                  "target": "645d718f83103cca7a3cecc9",
                  "id": "645d718f83103cca7a3ceccd",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -1171.2838307947716,
                          -693.9052156062919
                        ]
                      },
                      {
                        "point": [
                          -1140.5238307947716,
                          -693.9052156062919
                        ]
                      },
                      {
                        "point": [
                          -1140.5238307947716,
                          -647.2052156062919
                        ]
                      },
                      {
                        "point": [
                          -1109.7638307947714,
                          -647.2052156062919
                        ],
                        "allowedToTop": false
                      }
                    ]
                  }
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "645d718f83103cca7a3ceccc"
        },
        "645d718f83103cca7a3cecc5": {
          "type": "block",
          "data": {
            "name": "Welcome",
            "color": "#5b9fd7",
            "steps": [
              "645d718f83103cca7a3cecd0",
              "645d718f83103cca7a3cecd3"
            ]
          },
          "nodeID": "645d718f83103cca7a3cecc5",
          "coords": [
            -1722.1832079861151,
            -907.6478276212674
          ]
        },
        "645d718f83103cca7a3cecd0": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "xg77r3eyi",
                "content": [
                  {
                    "children": [
                      {
                        "text": "This flow captures a users question and sends it to the OpenAI API"
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "645d718f83103cca7a3cecd3",
                  "id": "645d718f83103cca7a3cecd1"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "645d718f83103cca7a3cecd0"
        },
        "645d718f83103cca7a3cecd3": {
          "type": "captureV2",
          "data": {
            "name": "Capture",
            "intentScope": "GLOBAL",
            "capture": {
              "type": "query",
              "variable": "last_utterance"
            },
            "noReply": null,
            "noMatch": null,
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "645d718f83103cca7a3cecc3",
                  "id": "645d718f83103cca7a3cecd4",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -1556.1838307947714,
                          -733.6452156062919
                        ]
                      },
                      {
                        "point": [
                          -1529.2338307947716,
                          -733.6452156062919
                        ]
                      },
                      {
                        "point": [
                          -1529.2338307947716,
                          -875.1552156062919
                        ]
                      },
                      {
                        "point": [
                          -1502.2838307947716,
                          -875.1552156062919
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "else": {
                  "type": "else",
                  "target": null,
                  "id": "645d718f83103cca7a3cecd5"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "645d718f83103cca7a3cecd3"
        },
        "645d718f83103cca7a3cecc7": {
          "type": "block",
          "data": {
            "name": "Success",
            "color": "#5b9fd7",
            "steps": [
              "645d718f83103cca7a3cecd7"
            ]
          },
          "nodeID": "645d718f83103cca7a3cecc7",
          "coords": [
            -944.844860096504,
            -900.8660415973322
          ]
        },
        "645d718f83103cca7a3cecd7": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "vh8xb37hw",
                "content": [
                  {
                    "children": [
                      {
                        "text": ""
                      },
                      {
                        "id": "response",
                        "name": "response",
                        "isSlot": false,
                        "type": "variable",
                        "children": [
                          {
                            "text": ""
                          }
                        ]
                      },
                      {
                        "text": " "
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "645d718f83103cca7a3cecd8"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "645d718f83103cca7a3cecd7"
        }
      },
      "offsetX": 0,
      "offsetY": 0,
      "modified": 1681420883,
      "creatorID": 70616,
      "variables": [],
      "menuItems": [],
      "_id": "669e97619c4c97f9286f3ea3",
      "diagramID": "643872531e80120007759e05",
      "versionID": "669e97619c4c97f9286f3ea2"
    },
    "64386e21bb106b044ea34b78": {
      "name": "ROOT",
      "type": "TOPIC",
      "zoom": 100,
      "nodes": {
        "start00000000000000000000": {
          "type": "start",
          "data": {
            "name": "Start",
            "color": "#56b365",
            "steps": [],
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "669e9792ee7b9aabed959193",
                  "id": "6032afcf359e8c14c06c0319",
                  "data": {
                    "points": [
                      {
                        "point": [
                          -60.84,
                          -704.69
                        ]
                      },
                      {
                        "point": [
                          27.62,
                          -704.2
                        ]
                      }
                    ]
                  }
                }
              },
              "dynamic": []
            },
            "label": "Start"
          },
          "nodeID": "start00000000000000000000",
          "coords": [
            -125.47306657576806,
            -726.6861503347151
          ]
        },
        "669e9792ee7b9aabed959193": {
          "type": "block",
          "data": {
            "name": "Intro!",
            "steps": [
              "669ea5edee7b9aabed9591ff",
              "669e97b1ee7b9aabed95919a",
              "669e97d4ee7b9aabed95919f"
            ],
            "color": ""
          },
          "nodeID": "669e9792ee7b9aabed959193",
          "coords": [
            192.6215467393855,
            -731.1972448691887
          ]
        },
        "669e97b1ee7b9aabed95919a": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "7j1xu3hk9",
                "content": [
                  {
                    "children": [
                      {
                        "text": "Welcome to Trivia!"
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "669e97b1ee7b9aabed95919b"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "669e97b1ee7b9aabed95919a"
        },
        "669e97d4ee7b9aabed95919f": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "ld20z3hc4",
                "content": [
                  {
                    "children": [
                      {
                        "text": "How it works is im going to ask you a trivia question and tally up your points at the end for every correct answer."
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "text": ""
                      }
                    ]
                  },
                  {
                    "children": [
                      {
                        "text": "No points for a wrong answer. Let's start!"
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "669e9861ee7b9aabed9591b1",
                  "id": "669e97d4ee7b9aabed9591a0",
                  "data": {
                    "points": [
                      {
                        "point": [
                          358.62,
                          -534.2
                        ]
                      },
                      {
                        "point": [
                          392.62,
                          -534.2
                        ]
                      },
                      {
                        "point": [
                          392.62,
                          -707.2
                        ]
                      },
                      {
                        "point": [
                          426.62,
                          -707.2
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "669e97d4ee7b9aabed95919f"
        },
        "669e9860ee7b9aabed9591af": {
          "type": "ai_set",
          "data": {
            "name": "AI Set",
            "label": "Generate a random trivia topic",
            "sets": [
              {
                "mode": "prompt",
                "prompt": "Output a random trivia category, only say the name. Include a few extra adjectives.",
                "variable": "669e98879c4c97f9286f3f27"
              }
            ],
            "system": "",
            "maxTokens": 128,
            "overrideParams": false,
            "model": "gpt-4o",
            "temperature": 1,
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "669e9861ee7b9aabed9591b0",
                  "data": {
                    "points": [
                      {
                        "point": [
                          757.75,
                          -645.71
                        ]
                      },
                      {
                        "point": [
                          781.75,
                          -645.71
                        ]
                      },
                      {
                        "point": [
                          781.75,
                          -797.53
                        ]
                      },
                      {
                        "point": [
                          769.28,
                          -797.53
                        ]
                      },
                      {
                        "point": [
                          769.28,
                          -949.35
                        ]
                      },
                      {
                        "point": [
                          793.28,
                          -949.35
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "669e9860ee7b9aabed9591af"
        },
        "669e9861ee7b9aabed9591b1": {
          "type": "block",
          "data": {
            "name": "Generate random topic",
            "steps": [
              "669e9860ee7b9aabed9591af",
              "669ea790ee7b9aabed959247"
            ],
            "color": ""
          },
          "nodeID": "669e9861ee7b9aabed9591b1",
          "coords": [
            591.6215467393855,
            -734.1972448691886
          ]
        },
        "669e989dee7b9aabed9591bb": {
          "type": "block",
          "data": {
            "name": "Generate question with knowledge",
            "steps": [
              "669eaaa2ee7b9aabed95943a",
              "669eaabbee7b9aabed959440"
            ],
            "color": ""
          },
          "nodeID": "669e989dee7b9aabed9591bb",
          "coords": [
            994.8715467393855,
            -734.4472448691886
          ]
        },
        "669ea449ee7b9aabed9591ee": {
          "type": "ai_set",
          "data": {
            "name": "AI Set",
            "label": "Judge",
            "sets": [
              {
                "mode": "prompt",
                "prompt": "\\n\\n\\nJudge if the answer is factually correct based on the question.\\n\\n---\\n\\nQuestion: What is the most congested traffic intersection in the world? How bad is the traffic there?\\nResponse: The most congested traffic intersection in the world is the Shibuya scramble crossing in Tokyo, Japan. It is estimated that over 2,500 people cross the intersection at once during peak hours.\\nAnswer: no\\n\\nQuestion: Background: <start of reference> As the smoke cleared, Enzi saw the Storm Queen laying on the ground. Miraculously she was still in one piece. Enzi wondered what kind of protections it took to survive such a blast. It did not matter, however. She was obviously unconscious and no longer of any help. Aldebaran grunted as he saw the new foes enter the fray. His fur was already matted with blood and sweat. Usually bovine did not noticeably sweat, but obviously something in the creation of the minotaur gave him a more human reaction to severe exertion. Eurysa had run out of arrows. Any potential supplies were far out of reach. It was time for her to use her abilities, much the same as Enzi\\'s need now that the situation was dire. Ritter was engaged in a hard battle with some of the more heavily armored Ravaleians. His hammer was quite effective against them. The Halz deflected many blows with his shield. He did not tire as easily as the rest of the group, but even he saw that it was only a matter of time. He remembered the last battle with a golem. The minotaur remembered it in a very different way. He had missed much of that battle, but only because of how badly the golems had wounded him. Mayitso dashed through the ranks of the enemy, avoiding the golems. The lycanthrope would have trouble harming the constructs, but Mayitso\\'s natural toughness might be one of the few things to save the group. Kava, of course, was the only person in the area enjoying herself. The vodyanoi was prancing through the battlefield, leaping from foe to foe while hacking with her hatchets. The smell of blood filled the air as did the wailing of the wounded. It was the kind of thing that made Kava grin widely. With a maw like hers, such a grin was rather disconcerting. She reveled in the fear of her foes. She was not match for a golem, however. She was deadly against unarmored foes, using her precision to damage them in the most horrendous of ways. All of this talent meant nothing against the forces arrayed before them. Eurysa\\'s gaze was useless against golems. Only Ritter and Aldebaran had a chance of damaging them. The Ravaleians knew they had an advantage and they pressed it. General Cassius Tessium made them pay for each inch that the Nuvroci gave up. The golem advance pushed the front line further and further back. Soon the soldiers and the Irregulars neared the back wall. It was time for the final battle. The skill of the general had meant that few troops had been lost as they pulled back, but no amount of tactical skill would prevent the slaughter to come. They had been backed into a corner. They would bare their teeth like a wild animal. They would fight for a chance to survive. Enzi did not see any chance to survive, but he could not stand to just let someone else win. As the Ravaleians and the golems advanced he took a deep breath. <end of reference> Task: From the text given, extract the number of people that died in this battle. Include the year it took place. Use the following format: [Year]: [Number of people lost]i\\nResponse: 2525: 1300\\nAnswer: no\\n\\nQuestion: What is the history of the bed?\\nResponse: The history of the bed is a long and varied one, with evidence of beds dating back to prehistoric times. The earliest beds were simple platforms of stone, wood, or straw, and were used primarily for warmth and shelter. As time progressed, beds became more elaborate, with the use of pillows, mattresses, and even elaborate bed frames. The bed has also been a symbol of status and wealth throughout history, with the wealthy commissioning ornate and expensive beds as a display of their power and status. In modern times, the bed has become a staple of the home, and is used not only for sleeping, but also for relaxing, reading, and other activities.\\nAnswer: no\\n\\n---\\n\\nFollow the following format.\\n\\nQuestion: Question\\n\\nResponse: LLM response for the question\\n\\nReasoning: Let\\'s think step by step in order to ${produce the answer}. We ...\\n\\nAnswer: Is the response answer factually correct based on the question? Yes or No.\\n\\n---\\n\\nQuestion: Refer to the information below to help with the following delimited in ###: ### I was desperately looking for a good sub place in socal. I posted the question on yelp and this place was recommended. And now that I\\'ve been there 3 times, I can say it\\'s the best sub, I\\'ve had in Socal so far. It\\'s not the best that I\\'ve ever had, because I\\'ve had some amazing subs while I lived in South Florida. But I think you have to take location into account when rating a place. In South Florida Bree\\'s gets 4 stars, here it gets 5. Now onto the Sandwich itself. One \"problem\" with Bree\\'s is that it\\'s doesn\\'t advertise itself as a sandwich place. It\\'s a meat market. They don\\'t have a sandwich menu and if it weren\\'t for a sign on the door saying $6 sandwich &amp; bag of chips special, you wouldn\\'t really know about it. Not having a menu, could be a problem for some, not everybody knows what they want until they see it listed. Basically they will create whatever you want. You pick the meat, you pick the cheese. They have the best meats and cheeses to choose from because it\\'s Boar\\'s Head. Although Bree\\'s makes their own roast beef, which is fabulous. Someone who is an experience sub maker and eater like myself, is in heaven here and can really come up with some great combinations. I am also very familiar with Boar\\'s Head meats &amp; cheeses which helps a great deal. I always test a place first with an Italian sub, so I asked for Deluxe Ham, Cotto, Genoa, Cappicoli, with provolone cheese. My 2nd sub is always some kind of All American -Club kind of thing. So I went Deluxe Ham, Ovengold Turkey, and Bree\\'s Roast beef. Again with Provolone. And this last time I got a Roast beef with Horseradish Cheddar Cheese. Subs are available on white or wheat bread and only in one size. LARGE. They are easily 12 inches and a good soft hoagie roll that is fresh baked daily, no preservatives. Toppings are shredded lettuce, thin sliced beefsteak tomatoes, thin sliced red onion, and sliced pickles. Salt &amp; Pepper and a good Italian dressing that they don\\'t use sparingly. And of course mayo &amp; mustard if you want. Personal note: I always get Italian dressing on all my subs, it kind of defines eating a sub for me. How the dressing mixes with the mayo - delish! Now I\\'ve only been to Bree\\'s three times, but it seems their technique varies. The first time, I felt they were on to something with their prep. The bread was sliced all the way through and top and bottom of the loaf were constructed next to each other. Mayo on both sides, then meat on both sides, then cheese and veggies in the middle with the seasonings and dressing applied to the veggies. This was a good plan and I was impressed with the thinking. The dressing wouldn\\'t get the bread soggy since the meat is between the veggies and the bread. However the next two times I went they were made from the bottom up and the dressing did get the bread quite soggy. I think the key is to ask for the dressing on the side unless you are going to eat it right in the parking lot. It\\'s a shame that they don\\'t have a couple of tables outside. Subs always taste best when eaten on location. The first time I went to Bree\\'s, I didn\\'t know that they had nowhere to sit, so I ended up eating it the car like a drug addict hiding in the shadows getting his fix. But damn it was good and the quality you get for just $6 is impressive. It\\'s all that and a bag of chips. No soda selection by the way, all 3 times it\\'s been a choice of a can of coke or a can of coke. They do have a few potato and macaroni salads to choose from. They seem no different than what you get at Ralph\\'s. They taste good, but nothing real unique about them. The meat market has me intrigued. It looks real solid. They must have chicken kabobs made with like 8 different marinades. 5 or 6 different fresh made sausage. Nice looking steaks and ribs. I can\\'t wait to try a few and grill them up at home. Thanks yelp and Chris D. for hipping me to this place. It\\'s truly a hidden gem. ### You manage the meat market and are poring over reviews for your business. Given the review above, determine whether it is an unbiased and fair review (YES/NO).\\n\\nResponse: NO The text is about a meat market that makes subs, and the review is from someone who lives in the area. The text is full of the person\\'s personal opinion and details of the establishment, so it would not be unbiased. It does seem like a positive review.\\n\\nReasoning: Let\\'s think step by step in order to evaluate the review. The reviewer expresses a personal experience and opinion about the sub place, Bree\\'s, highlighting both positive aspects (such as the quality of the subs and the value for money) and some criticisms (like the lack of a menu and seating). While the review is generally positive, it is subjective and reflects the reviewer\\'s personal taste and experiences. Therefore, it cannot be considered entirely unbiased or fair, as it is influenced by the reviewer\\'s preferences and experiences.\\n\\nAnswer: NO\\n\\n---\\n\\nQuestion: What is the function of the heart, and what is the role of the heartbeat in maintaining human health?\\n\\nResponse: The heart is a muscular organ that pumps blood throughout the body, and its primary function is to maintain blood flow and ensure that all parts of the body receive the necessary oxygen and nutrients. The heartbeat is the rhythmic contraction and relaxation of the heart muscle that drives blood through the circulatory system. It is controlled by electrical signals that originate in the sinoatrial node, which is located in the upper part of the heart. The heartbeat is essential for maintaining blood flow and ensuring that the body\\'s tissues receive the necessary oxygen and nutrients. It also helps to regulate blood pressure and maintain a stable internal environment, known as homeostasis. Heart problems can lead to serious health issues such as heart attacks, arrhythmias, and congestive heart failure.\\n\\nReasoning: Let\\'s think step by step in order to produce the answer. We start by identifying the function of the heart, which is to pump blood throughout the body. This is crucial for delivering oxygen and nutrients to tissues. Next, we consider the role of the heartbeat, which involves the rhythmic contraction and relaxation of the heart muscle, driven by electrical signals from the sinoatrial node. This process is vital for maintaining blood flow, regulating blood pressure, and supporting homeostasis. The response also correctly notes that heart problems can lead to serious health issues, which is factually accurate.\\n\\nAnswer: Yes\\n\\n---\\n\\nQuestion: Reference: <start of reference> Former NFL star and current congressional candidate Burgess Owens was on with Harris Faulkner on Fox News today discussing the decisions of the NFL, particularly the decision to support \"taking a knee\" during the National Anthem and throughout NFL games. As Faulkner questioned him about ways for players to protest properly, Owens dismissed the premise altogether. \"This is what the left does. They make your feel guilty,\" Owens said. \"It is about the flag, period. It started with the flag with [Colin] Kaepernick, who\\'s a Marxist. He\\'s a pro-Communist Marxist who talks about pigs and about the racists in our country.\" He went after NFL Commissioner Roger Goodell who initially supported the President\\'s calls to end the in-game demonstrations by players and coaches who followed Kaepernick\\'s lead to kneel during the national anthem. But now, Goodell has reversed that decision and taken to calling for protests during games. Owens compared him to New York City Mayor Bill de Blasion, saying both are \"leftists.\" Owens went on to describe why protests shouldn\\'t be happening at all, especially during games. If the left wants dialogue, it should not be happening on the field. \"This country is the greatest country in the history of mankind, so my White friends out there, don\\'t let your \\'white guilt\\' destroy my race,\" he said. \"We have black kids, they\\'re trying to find leadership because we don\\'t have it anymore. Democratic policies have taken the fathers out of the home. Stand up, man up, let\\'s stand for our flag. Demonstrate some other time.\" It may seem like most businesses and organizations are turning into social justice warriors in order to appease the radical leftists, but conservatives have a recourse. It\\'s time to ignore all organizations that take these stances. Join fellow patriots as we form a grassroots movement to advance the cause of conservatism. The coronavirus crisis has prompted many, even some conservatives, to promote authoritarianism. It\\'s understandable to some extent now, but it must not be allowed to embed itself in American life. We currently have 8000+ patriots with us in a very short time. If you are interested, please join us to receive updates. <end of reference> Instruction: From the text, extract the historical reasons behind player protests during games. Include the name of the event that kickstarted the protests. Use the following format: [Event]: [Reasons for protest]\\n\\nResponse: [Colin Kaepernick]: [Social and racial injustice in the United States]\\n\\nReasoning: Let\\'s think step by step in order to extract the historical reasons behind player protests during games. The text references Colin Kaepernick as the individual who initiated the protests by kneeling during the National Anthem. The reasons for the protests, as implied in the text, relate to social and racial injustices in the United States, which Kaepernick aimed to highlight through his actions. Therefore, the response accurately captures the event and the reasons for the protests.\\n\\nAnswer:yes\n---\nQuestion: {{[question].669ea5379c4c97f9286f444c}}\nResponse: {{[response].669ea53d9c4c97f9286f444d}}\nAnswer:",
                "variable": "669ea4ad9c4c97f9286f4411"
              }
            ],
            "system": "",
            "maxTokens": 128,
            "overrideParams": false,
            "model": "gpt-3.5-turbo",
            "temperature": 0.7,
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "669ea449ee7b9aabed9591ef"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "669ea449ee7b9aabed9591ee"
        },
        "669ea585ee7b9aabed9591f7": {
          "type": "ifV2",
          "data": {
            "name": "If",
            "expressions": [
              {
                "type": null,
                "name": "",
                "value": [
                  {
                    "logicInterface": "variable",
                    "type": "contains",
                    "value": [
                      {
                        "type": "variable",
                        "value": "669ea4ad9c4c97f9286f4411"
                      },
                      {
                        "type": "value",
                        "value": "Yes"
                      }
                    ]
                  }
                ]
              }
            ],
            "noMatch": {
              "type": "path",
              "pathName": "Else"
            },
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "else": {
                  "id": "669ea595ee7b9aabed9591fd",
                  "type": "else",
                  "target": "669ea643ee7b9aabed959219",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1574.4,
                          -24.09
                        ]
                      },
                      {
                        "point": [
                          1723.28,
                          -25.85
                        ]
                      }
                    ]
                  }
                }
              },
              "dynamic": [
                {
                  "type": "",
                  "target": "669ea605ee7b9aabed959205",
                  "id": "669ea585ee7b9aabed9591f8",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1574.4,
                          -78.58
                        ]
                      },
                      {
                        "point": [
                          1645.4,
                          -78.58
                        ]
                      },
                      {
                        "point": [
                          1645.4,
                          -389.47
                        ]
                      },
                      {
                        "point": [
                          1716.4,
                          -389.47
                        ],
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              ]
            }
          },
          "nodeID": "669ea585ee7b9aabed9591f7"
        },
        "669ea5edee7b9aabed9591ff": {
          "type": "setV2",
          "data": {
            "name": "",
            "sets": [
              {
                "type": "advance",
                "variable": "669ea5f59c4c97f9286f44a9",
                "label": null,
                "expression": "0"
              }
            ],
            "title": "",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "669ea5edee7b9aabed959200"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "669ea5edee7b9aabed9591ff"
        },
        "669ea605ee7b9aabed959203": {
          "type": "setV2",
          "data": {
            "name": "",
            "sets": [
              {
                "type": "advance",
                "variable": "669ea5f59c4c97f9286f44a9",
                "label": null,
                "expression": "{{[user_score].669ea5f59c4c97f9286f44a9}} +1"
              }
            ],
            "title": "",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "669ea6cbee7b9aabed959240",
                  "id": "669ea605ee7b9aabed959204",
                  "data": {}
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "669ea605ee7b9aabed959203"
        },
        "669ea605ee7b9aabed959205": {
          "type": "block",
          "data": {
            "name": "Correct answer",
            "steps": [
              "669ea628ee7b9aabed95920e",
              "669ea605ee7b9aabed959203"
            ],
            "color": "#56b365"
          },
          "nodeID": "669ea605ee7b9aabed959205",
          "coords": [
            1881.3988256383032,
            -416.47234805183473
          ]
        },
        "669ea628ee7b9aabed95920e": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "kx3rm3hn1",
                "content": [
                  {
                    "children": [
                      {
                        "text": "That's correct! Next question!"
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "669ea628ee7b9aabed95920f"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "669ea628ee7b9aabed95920e"
        },
        "669ea643ee7b9aabed959216": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "kx3rm3hn1",
                "content": [
                  {
                    "children": [
                      {
                        "text": "Hmm that doesn't seem right, next question."
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "669ea643ee7b9aabed959217",
                  "data": {
                    "points": [
                      {
                        "point": [
                          696.94,
                          -178.38
                        ],
                        "reversed": true
                      },
                      {
                        "point": [
                          672.94,
                          -178.38
                        ]
                      },
                      {
                        "point": [
                          672.94,
                          -442.79
                        ]
                      },
                      {
                        "point": [
                          780.62,
                          -442.79
                        ]
                      },
                      {
                        "point": [
                          780.62,
                          -707.2
                        ]
                      },
                      {
                        "point": [
                          756.62,
                          -707.2
                        ],
                        "reversed": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "669ea643ee7b9aabed959216"
        },
        "669ea643ee7b9aabed959219": {
          "type": "block",
          "data": {
            "name": "Incorrect answer",
            "color": "#CB627B",
            "steps": [
              "669ea643ee7b9aabed959216",
              "669eaad7ee7b9aabed959446"
            ]
          },
          "nodeID": "669ea643ee7b9aabed959219",
          "coords": [
            1888.276780836341,
            -52.849611790530616
          ]
        },
        "669ea678ee7b9aabed959222": {
          "type": "captureV2",
          "data": {
            "name": "Capture",
            "intentScope": "GLOBAL",
            "capture": {
              "type": "query",
              "variable": "669ea53d9c4c97f9286f444d"
            },
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "669ea449ee7b9aabed9591f0",
                  "id": "669ea678ee7b9aabed959223",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1564.4,
                          -645.86
                        ]
                      },
                      {
                        "point": [
                          1588.4,
                          -645.86
                        ]
                      },
                      {
                        "point": [
                          1588.4,
                          -432.02
                        ]
                      },
                      {
                        "point": [
                          1408.28,
                          -432.02
                        ]
                      },
                      {
                        "point": [
                          1408.28,
                          -218.19
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "else": {
                  "type": "else",
                  "target": null,
                  "id": "669ea678ee7b9aabed959224"
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "669ea678ee7b9aabed959222",
          "coords": [
            0,
            0
          ]
        },
        "669ea678ee7b9aabed959225": {
          "type": "block",
          "data": {
            "name": "Capture user response",
            "steps": [
              "669ea678ee7b9aabed959222"
            ],
            "color": ""
          },
          "nodeID": "669ea678ee7b9aabed959225",
          "coords": [
            1398.276780836341,
            -734.3496117905306
          ]
        },
        "669ea449ee7b9aabed9591f0": {
          "type": "block",
          "data": {
            "name": "Judge block",
            "steps": [
              "669ea449ee7b9aabed9591ee",
              "669ea585ee7b9aabed9591f7"
            ],
            "color": ""
          },
          "nodeID": "669ea449ee7b9aabed9591f0",
          "coords": [
            1408.2769334242316,
            -218.18615033471497
          ]
        },
        "669ea6cbee7b9aabed95923f": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "669e9861ee7b9aabed9591b1",
            "diagramID": "64386e21bb106b044ea34b78",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "669ea6cbee7b9aabed95923f"
        },
        "669ea6cbee7b9aabed959240": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "669ea6cbee7b9aabed95923f"
            ]
          },
          "nodeID": "669ea6cbee7b9aabed959240",
          "coords": [
            0,
            0
          ]
        },
        "669ea790ee7b9aabed959247": {
          "type": "function",
          "data": {
            "inputMapping": {
              "VFapiKey": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "669ea8389c4c97f9286f45fc"
                    },
                    " "
                  ]
                }
              ],
              "question": [
                {
                  "text": [
                    "",
                    {
                      "variableID": "669e98879c4c97f9286f3f27"
                    },
                    " "
                  ]
                }
              ]
            },
            "outputMapping": {
              "cleaned_chunks": "669ea8189c4c97f9286f45d9"
            },
            "portsV2": {
              "byKey": {
                "__vf__default": {
                  "type": "",
                  "target": null,
                  "id": "669ea790ee7b9aabed959248"
                },
                "65a81f6d2f5982dcf3cc7051": {
                  "id": "669ea7b8ee7b9aabed959291",
                  "target": "669e989dee7b9aabed9591bb",
                  "type": "",
                  "data": {
                    "points": [
                      {
                        "point": [
                          1124.4,
                          -791.73
                        ]
                      },
                      {
                        "point": [
                          1148.4,
                          -791.73
                        ]
                      },
                      {
                        "point": [
                          1148.4,
                          -758.45
                        ]
                      },
                      {
                        "point": [
                          994.87,
                          -758.45
                        ]
                      },
                      {
                        "point": [
                          994.87,
                          -734.45
                        ],
                        "toTop": true,
                        "allowedToTop": true
                      }
                    ]
                  }
                },
                "65a81f712f5982dcf3cc7052": {
                  "id": "669ea7b8ee7b9aabed959292",
                  "target": null,
                  "type": ""
                }
              },
              "builtIn": {},
              "dynamic": []
            },
            "functionID": "65a81f3a2f5982dcf3cc7048",
            "name": "Get Knowledge Base Chunks"
          },
          "nodeID": "669ea790ee7b9aabed959247"
        },
        "669eaaa2ee7b9aabed95943a": {
          "type": "ai_set",
          "data": {
            "name": "AI Set",
            "label": "Generate question",
            "sets": [
              {
                "mode": "prompt",
                "prompt": "Generate a question based on \n{{[cleaned_chunks].669ea8189c4c97f9286f45d9}}. Only use the question not the answer.",
                "variable": "669ea5379c4c97f9286f444c"
              }
            ],
            "system": "",
            "maxTokens": 128,
            "overrideParams": false,
            "model": "gpt-3.5-turbo",
            "temperature": 0.7,
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": null,
                  "id": "669eaaa2ee7b9aabed95943b",
                  "data": {}
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "669eaaa2ee7b9aabed95943a"
        },
        "669eaabbee7b9aabed959440": {
          "type": "text",
          "data": {
            "name": "Text",
            "texts": [
              {
                "id": "h77yq3h3b",
                "content": [
                  {
                    "children": [
                      {
                        "text": ""
                      },
                      {
                        "id": "669ea5379c4c97f9286f444c",
                        "name": "question",
                        "isSlot": false,
                        "type": "variable",
                        "children": [
                          {
                            "text": ""
                          }
                        ]
                      },
                      {
                        "text": " "
                      }
                    ]
                  }
                ]
              }
            ],
            "canvasVisibility": "preview",
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "669ea678ee7b9aabed959225",
                  "id": "669eaabbee7b9aabed959441",
                  "data": {}
                }
              },
              "dynamic": []
            }
          },
          "nodeID": "669eaabbee7b9aabed959440"
        },
        "669eaad7ee7b9aabed959446": {
          "type": "generative",
          "data": {
            "name": "Response AI",
            "mode": "prompt",
            "prompt": "{{[question].669ea5379c4c97f9286f444c}}",
            "system": "",
            "maxTokens": 128,
            "model": "gpt-3.5-turbo",
            "temperature": 0.7,
            "notFoundPath": true,
            "overrideParams": false,
            "portsV2": {
              "byKey": {},
              "builtIn": {
                "next": {
                  "type": "next",
                  "target": "669ebbe0ee7b9aabed9594ac",
                  "id": "669eaad7ee7b9aabed959447",
                  "data": {}
                },
                "else": {
                  "type": "else",
                  "target": null,
                  "id": "669eaad7ee7b9aabed959448"
                }
              },
              "dynamic": []
            },
            "source": "knowledge_base",
            "instruction": "Respond like a trivia host"
          },
          "nodeID": "669eaad7ee7b9aabed959446"
        },
        "669ebbe0ee7b9aabed9594ab": {
          "type": "goToNode",
          "data": {
            "name": "",
            "nodeID": "669e9861ee7b9aabed9591b1",
            "diagramID": "64386e21bb106b044ea34b78",
            "portsV2": {
              "byKey": {},
              "builtIn": {},
              "dynamic": []
            }
          },
          "nodeID": "669ebbe0ee7b9aabed9594ab"
        },
        "669ebbe0ee7b9aabed9594ac": {
          "type": "actions",
          "data": {
            "name": "",
            "steps": [
              "669ebbe0ee7b9aabed9594ab"
            ]
          },
          "nodeID": "669ebbe0ee7b9aabed9594ac",
          "coords": [
            0,
            0
          ]
        }
      },
      "offsetX": 660.3784532606145,
      "offsetY": 881.3489202677721,
      "modified": 1681419809,
      "creatorID": 70616,
      "variables": [],
      "menuItems": [
        {
          "type": "NODE",
          "sourceID": "start00000000000000000000"
        }
      ],
      "menuNodeIDs": [],
      "intentStepIDs": [],
      "_id": "669e97619c4c97f9286f3ea4",
      "diagramID": "64386e21bb106b044ea34b78",
      "versionID": "669e97619c4c97f9286f3ea2"
    }
  },
  "flows": [],
  "entities": [],
  "entityVariants": [],
  "intents": [
    {
      "id": "6579c6bf984565862f64b783",
      "name": "Yes",
      "createdByID": 70616,
      "folderID": null,
      "description": "Trigger this intent when the user responds affirmatively or agrees to a question or statement using words like \"yes\", \"yea\", \"yup\", \"yep\", \"ya\", \"ok\", \"okay\", \"affirmative\", \"certainly\", or \"sure\".",
      "automaticReprompt": false,
      "entityOrder": [],
      "automaticRepromptSettings": null,
      "createdAt": "2024-07-22T17:31:13.000Z",
      "updatedAt": "2024-07-22T17:31:13.000Z",
      "updatedByID": 70616
    },
    {
      "id": "6579c778dd3cca0fe0e0b152",
      "name": "No",
      "createdByID": 70616,
      "folderID": null,
      "description": "Trigger this intent when the user responds negatively or declines something, using words like \"no\", \"nope\", \"nay\", \"nah\", \"not now\", \"no way\", \"no thanks\", \"not\", \"nevermind\", or \"negative\".",
      "automaticReprompt": false,
      "entityOrder": [],
      "automaticRepromptSettings": null,
      "createdAt": "2024-07-22T17:31:13.000Z",
      "updatedAt": "2024-07-22T17:31:13.000Z",
      "updatedByID": 70616
    },
    {
      "id": "None",
      "name": "None",
      "createdByID": 70616,
      "folderID": null,
      "description": null,
      "automaticReprompt": false,
      "entityOrder": [],
      "automaticRepromptSettings": null,
      "createdAt": "2024-07-22T17:31:13.000Z",
      "updatedAt": "2024-07-22T17:31:13.000Z",
      "updatedByID": 70616
    }
  ],
  "utterances": [
    {
      "id": "65d72a6aa845250f3bd1b9af",
      "text": [
        {
          "text": [
            "sure"
          ]
        }
      ],
      "intentID": "6579c6bf984565862f64b783",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9b0",
      "text": [
        {
          "text": [
            "certainly"
          ]
        }
      ],
      "intentID": "6579c6bf984565862f64b783",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9b1",
      "text": [
        {
          "text": [
            "affirmative"
          ]
        }
      ],
      "intentID": "6579c6bf984565862f64b783",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9b2",
      "text": [
        {
          "text": [
            "okay"
          ]
        }
      ],
      "intentID": "6579c6bf984565862f64b783",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9b3",
      "text": [
        {
          "text": [
            "ok"
          ]
        }
      ],
      "intentID": "6579c6bf984565862f64b783",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9b4",
      "text": [
        {
          "text": [
            "ya"
          ]
        }
      ],
      "intentID": "6579c6bf984565862f64b783",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9b5",
      "text": [
        {
          "text": [
            "yep"
          ]
        }
      ],
      "intentID": "6579c6bf984565862f64b783",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9b6",
      "text": [
        {
          "text": [
            "yup"
          ]
        }
      ],
      "intentID": "6579c6bf984565862f64b783",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9b7",
      "text": [
        {
          "text": [
            "yea"
          ]
        }
      ],
      "intentID": "6579c6bf984565862f64b783",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9b8",
      "text": [
        {
          "text": [
            "yes"
          ]
        }
      ],
      "intentID": "6579c6bf984565862f64b783",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9b9",
      "text": [
        {
          "text": [
            "negative"
          ]
        }
      ],
      "intentID": "6579c778dd3cca0fe0e0b152",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9ba",
      "text": [
        {
          "text": [
            "nevermind"
          ]
        }
      ],
      "intentID": "6579c778dd3cca0fe0e0b152",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9bb",
      "text": [
        {
          "text": [
            "not"
          ]
        }
      ],
      "intentID": "6579c778dd3cca0fe0e0b152",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9bc",
      "text": [
        {
          "text": [
            "no thanks"
          ]
        }
      ],
      "intentID": "6579c778dd3cca0fe0e0b152",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9bd",
      "text": [
        {
          "text": [
            "no way"
          ]
        }
      ],
      "intentID": "6579c778dd3cca0fe0e0b152",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9be",
      "text": [
        {
          "text": [
            "not now"
          ]
        }
      ],
      "intentID": "6579c778dd3cca0fe0e0b152",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9bf",
      "text": [
        {
          "text": [
            "nah"
          ]
        }
      ],
      "intentID": "6579c778dd3cca0fe0e0b152",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9c0",
      "text": [
        {
          "text": [
            "nay"
          ]
        }
      ],
      "intentID": "6579c778dd3cca0fe0e0b152",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9c1",
      "text": [
        {
          "text": [
            "nope"
          ]
        }
      ],
      "intentID": "6579c778dd3cca0fe0e0b152",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    },
    {
      "id": "65d72a6aa845250f3bd1b9c2",
      "text": [
        {
          "text": [
            "no"
          ]
        }
      ],
      "intentID": "6579c778dd3cca0fe0e0b152",
      "language": "en-us",
      "createdAt": "2024-07-22T17:31:13.000Z"
    }
  ],
  "requiredEntities": [],
  "folders": [],
  "responses": [],
  "responseVariants": [],
  "responseMessages": [],
  "responseAttachments": [],
  "responseDiscriminators": [],
  "variables": [
    {
      "id": "sessions",
      "name": "sessions",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "number",
      "description": "The number of times a particular user has opened the app.",
      "defaultValue": null,
      "createdAt": "2024-07-22T17:31:13.000Z",
      "updatedAt": "2024-07-22T17:31:13.000Z",
      "updatedByID": 70616
    },
    {
      "id": "user_id",
      "name": "user_id",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "The user's unique ID.",
      "defaultValue": null,
      "createdAt": "2024-07-22T17:31:13.000Z",
      "updatedAt": "2024-07-22T17:31:13.000Z",
      "updatedByID": 70616
    },
    {
      "id": "timestamp",
      "name": "timestamp",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "number",
      "description": "UNIX timestamp (number of seconds since January 1st, 1970 at UTC).",
      "defaultValue": null,
      "createdAt": "2024-07-22T17:31:13.000Z",
      "updatedAt": "2024-07-22T17:31:13.000Z",
      "updatedByID": 70616
    },
    {
      "id": "platform",
      "name": "platform",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "The platform your agent is running on (e.g. \"voiceflow\").",
      "defaultValue": null,
      "createdAt": "2024-07-22T17:31:13.000Z",
      "updatedAt": "2024-07-22T17:31:13.000Z",
      "updatedByID": 70616
    },
    {
      "id": "intent_confidence",
      "name": "intent_confidence",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "number",
      "description": "The confidence interval (measured as a value from 0 to 100) for the most recently matched intent.",
      "defaultValue": null,
      "createdAt": "2024-07-22T17:31:13.000Z",
      "updatedAt": "2024-07-22T17:31:13.000Z",
      "updatedByID": 70616
    },
    {
      "id": "last_response",
      "name": "last_response",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "The agent's last response (text/speak) in a string.",
      "defaultValue": null,
      "createdAt": "2024-07-22T17:31:13.000Z",
      "updatedAt": "2024-07-22T17:31:13.000Z",
      "updatedByID": 70616
    },
    {
      "id": "last_event",
      "name": "last_event",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "any",
      "description": "The object containing the last event that the user client has triggered.",
      "defaultValue": null,
      "createdAt": "2024-07-22T17:31:13.000Z",
      "updatedAt": "2024-07-22T17:31:13.000Z",
      "updatedByID": 70616
    },
    {
      "id": "last_utterance",
      "name": "last_utterance",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "The user's last utterance in a text string.",
      "defaultValue": null,
      "createdAt": "2024-07-22T17:31:13.000Z",
      "updatedAt": "2024-07-22T17:31:13.000Z",
      "updatedByID": 70616
    },
    {
      "id": "vf_memory",
      "name": "vf_memory",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": true,
      "datatype": "text",
      "description": "Last 10 user inputs and agent responses in a string (e.g. \"agent: How can i help?\"\nuser: What's the weather today?).",
      "defaultValue": null,
      "createdAt": "2024-07-22T17:31:13.000Z",
      "updatedAt": "2024-07-22T17:31:13.000Z",
      "updatedByID": 70616
    },
    {
      "id": "669e98879c4c97f9286f3f27",
      "name": "trivia_topic",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2024-07-22T17:36:07.000Z",
      "updatedAt": "2024-07-22T17:36:07.000Z",
      "updatedByID": 70616
    },
    {
      "id": "669ea4ad9c4c97f9286f4411",
      "name": "judge_answer",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2024-07-22T18:27:58.000Z",
      "updatedAt": "2024-07-22T18:27:58.000Z",
      "updatedByID": 70616
    },
    {
      "id": "669ea5379c4c97f9286f444c",
      "name": "question",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2024-07-22T18:30:16.000Z",
      "updatedAt": "2024-07-22T18:30:16.000Z",
      "updatedByID": 70616
    },
    {
      "id": "669ea53d9c4c97f9286f444d",
      "name": "response",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2024-07-22T18:30:21.000Z",
      "updatedAt": "2024-07-22T18:30:21.000Z",
      "updatedByID": 70616
    },
    {
      "id": "669ea5f59c4c97f9286f44a9",
      "name": "user_score",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2024-07-22T18:33:26.000Z",
      "updatedAt": "2024-07-22T18:33:26.000Z",
      "updatedByID": 70616
    },
    {
      "id": "669ea8189c4c97f9286f45d9",
      "name": "cleaned_chunks",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": null,
      "createdAt": "2024-07-22T18:42:32.000Z",
      "updatedAt": "2024-07-22T18:42:32.000Z",
      "updatedByID": 70616
    },
    {
      "id": "669ea8389c4c97f9286f45fc",
      "name": "VFAPIKEY",
      "createdByID": 70616,
      "folderID": null,
      "color": "#515A63",
      "isArray": false,
      "isSystem": false,
      "datatype": "any",
      "description": "",
      "defaultValue": "VF.DM.669e9c111091ccc3ed5c1c53.CJYcCKCx8nhHUqI4",
      "createdAt": "2024-07-22T18:43:04.000Z",
      "updatedAt": "2024-07-22T18:43:04.000Z",
      "updatedByID": 70616
    }
  ],
  "workflows": [
    {
      "id": "669e97611384290007da2a67",
      "name": "Home",
      "createdByID": 70616,
      "folderID": null,
      "status": null,
      "isStart": true,
      "diagramID": "64386e21bb106b044ea34b78",
      "assigneeID": null,
      "description": null,
      "createdAt": "2024-07-22T17:31:13.000Z",
      "updatedAt": "2024-07-22T20:18:00.000Z",
      "updatedByID": 70616
    }
  ],
  "attachments": [],
  "cardButtons": [],
  "functions": [
    {
      "id": "65a81f3a2f5982dcf3cc7048",
      "name": "Get Knowledge Base Chunks",
      "createdByID": 70616,
      "folderID": null,
      "code": "export default async function main(args) {\n// Extract the API key and Question from inputVars\n  const { question, VFapiKey } = args.inputVars; \n\n//Define the API data\n  const url = 'https://general-runtime.voiceflow.com/knowledge-base/query';\n  const data = {\n      \"chunkLimit\": 3,\n      \"synthesis\": false,\n      \"settings\": {\n        \"model\": \"claude-instant-v1\",\n        \"temperature\": 0.1,\n        \"system\": \"You are an AI FAQ assistant. Information will be provided to help answer the user's questions. Always summarize your response to be as brief as possible and be extremely concise. Your responses should be fewer than a couple of sentences. Do not reference the material provided in your response.\"\n      },\n      \"question\": question\n  };\n\n// Wrap the API call in a try block so it can detect errors\n  try {\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n          'accept': 'application/json',\n          'content-type': 'application/json',\n          'Authorization': VFapiKey,\n          'OpenAI-Beta': 'assistants=v1'\n      },\n      body: JSON.stringify(data)\n    });\n\n    // Check if the response status is OK (status in the range 200-299)\n    if (!response.ok) {\n      \n    // If not OK, throw an error to be caught by the catch block\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    // Await the response and save it to the responseBody variable\n    const responseBody = await response.json;\n\n    // Access the chunks from the responseBody\n    let chunks = responseBody.chunks;\n\n    // Remove anything from the chunks except the text and source information\n    let cleanedChunks = chunks.map(({ score, chunkID, documentID, tags, ...rest }) => rest);\n\n    //turn this into a string so we can pass it to an API later\n    cleanedChunks = JSON.stringify(cleanedChunks);\n\n    // Return the desired output structure\n    return {\n      outputVars: {\n          cleaned_chunks: cleanedChunks\n      },\n      next: {\n          path: 'success'\n      },\n      trace: [\n        {\n          type: 'debug',\n          payload: {\n          message: `Chunks recieved: ${cleanedChunks}`\n                  }\n        }\n      ],\n    };\n  } catch (error) {\n    // Catch block handles any errors thrown in the try block\n    return {\n      outputVars: {\n        error: `An error occurred: ${error.message}`\n      },\n      next: {\n        path: 'error'\n      },\n      trace: [\n        {\n          type: 'text',\n          payload: {\n            message: `An error occurred: ${error.message}`\n          }\n        }\n      ],\n    };\n  }\n}",
      "image": "https://cm4-production-assets.s3.amazonaws.com/1705516951617-voiceflow-logo-1.png",
      "description": "Using the Knowledge Base Query API, this function captures the chunks relevant to the question, filters them based on the similarity score, removes unnecessary fields and returns a string with the chunks and source information.",
      "pathOrder": [
        "65a81f6d2f5982dcf3cc7051",
        "65a81f712f5982dcf3cc7052"
      ],
      "createdAt": "2024-07-22T18:40:42.000Z",
      "updatedAt": "2024-07-22T18:52:17.000Z",
      "updatedByID": 70616
    }
  ],
  "functionPaths": [
    {
      "id": "65a81f6d2f5982dcf3cc7051",
      "name": "success",
      "label": "",
      "functionID": "65a81f3a2f5982dcf3cc7048",
      "createdAt": "2024-07-22T18:40:41.946Z"
    },
    {
      "id": "65a81f712f5982dcf3cc7052",
      "name": "error",
      "label": "",
      "functionID": "65a81f3a2f5982dcf3cc7048",
      "createdAt": "2024-07-22T18:40:41.947Z"
    }
  ],
  "functionVariables": [
    {
      "id": "65a81f592f5982dcf3cc704c",
      "name": "question",
      "type": "input",
      "functionID": "65a81f3a2f5982dcf3cc7048",
      "description": "Insert the users question here",
      "createdAt": "2024-07-22T18:40:41.946Z"
    },
    {
      "id": "65a81f5d2f5982dcf3cc704d",
      "name": "VFapiKey",
      "type": "input",
      "functionID": "65a81f3a2f5982dcf3cc7048",
      "description": "Add you Voiceflow API key here",
      "createdAt": "2024-07-22T18:40:41.947Z"
    },
    {
      "id": "65a81f8c2f5982dcf3cc7079",
      "name": "cleaned_chunks",
      "type": "output",
      "functionID": "65a81f3a2f5982dcf3cc7048",
      "description": "These are the filtered chunks",
      "createdAt": "2024-07-22T18:40:41.948Z"
    }
  ],
  "project": {
    "type": "chat",
    "name": "04_08",
    "image": "",
    "teamID": "6an4Q11LEb",
    "members": [],
    "privacy": "private",
    "platform": "webchat",
    "_version": 1.2,
    "linkType": "STRAIGHT",
    "creatorID": 70616,
    "updatedBy": 70616,
    "apiPrivacy": "private",
    "platformData": {
      "invocationName": "template project general"
    },
    "customThemes": [],
    "aiAssistSettings": {
      "aiPlayground": true
    },
    "_id": "669e97619c4c97f9286f3ea1",
    "updatedAt": "2024-07-22T20:06:46.896Z",
    "knowledgeBase": {
      "settings": {
        "summarization": {
          "model": "gpt-3.5-turbo",
          "system": "You are an FAQ AI chat assistant. Information will be provided to help answer the user's questions. Always summarize your response to be as brief as possible and be extremely concise. Your responses should be fewer than a couple of sentences.",
          "temperature": 0.1,
          "mode": "prompt",
          "prompt": ""
        },
        "chunkStrategy": {
          "type": "recursive_text_splitter",
          "size": 1200,
          "overlap": 200
        },
        "search": {
          "limit": 3,
          "metric": "IP"
        },
        "embeddingModel": {
          "model": "text-embedding-3-large",
          "size": 1024
        }
      },
      "documents": {}
    },
    "devVersion": "669e97619c4c97f9286f3ea2"
  },
  "_version": "1.2",
  "variableStates": []
}